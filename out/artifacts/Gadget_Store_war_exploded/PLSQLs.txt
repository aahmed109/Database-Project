CREATE OR REPLACE 
PROCEDURE Admin_Insert(Bname in VARCHAR2) AS
brands_id NUMBER;
max_id NUMBER;
BEGIN
SELECT Brand_id into brands_id from BRANDS WHERE Brand_Name = Bname;
If brands_id <> NULL THEN
dbms_output.put_line('EXISTS');
ELSE
dbms_output.put_line('Not EXISTS');
SELECT MAX(Brand_id) into max_id from BRANDS;
brands_id := max_id + 1;
INSERT INTO BRANDS VALUES(brands_id,Bname);
end if;
END;

#INSERT IN BRANDS TABLE

CREATE OR REPLACE TRIGGER IBRAND AFTER INSERT ON "GADGET_STORE"."PRODUCTS" REFERENCING OLD AS "OLD" NEW AS "NEW" FOR EACH ROW ENABLE
DECLARE
max_id NUMBER;
BRID NUMBER;
BNAME VARCHAR2(255);
BR VARCHAR2(255);
OLDID NUMBER;
BEGIN
SELECT MAX(Brand_id) into max_id from BRANDS;
BRID := max_id + 1;
INSERT INTO BRANDS VALUES(BRID, :NEW.PRODUCT_BRAND);
END;
/

#INSERT IN CATEGORY TABLE

CREATE OR REPLACE TRIGGER ICATEGORY AFTER INSERT ON "GADGET_STORE"."PRODUCTS" REFERENCING OLD AS "OLD" NEW AS "NEW" FOR EACH ROW ENABLE
DECLARE
max_id NUMBER;
CATID NUMBER;
CAT VARCHAR2(255);
CATNAME VARCHAR2(255);
OLDID NUMBER;
BEGIN
SELECT MAX(Category_id) into max_id from "CATEGORY";
CATID := max_id + 1;
INSERT INTO "CATEGORY" VALUES(CATID, :NEW.PRODUCT_CATEGORY);
END;
/            